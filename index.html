<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Santhiya Sasikumar - Interactive AI Resume</title>
    <meta name="description" content="An interactive AI-powered resume for Santhiya Sasikumar, enhanced with web search and conversational context.">
    
    <script src="https://cdn.tailwindcss.com"></script>
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <style>
        html { scroll-behavior: smooth; }
        body {
            background-color: #030712;
            color: #f9fafb;
            cursor: none;
        }
        .space-card {
            background-color: rgba(31, 41, 55, 0.5);
            backdrop-filter: blur(8px);
            border: 1px solid rgba(165, 180, 252, 0.2);
            transition: transform 0.3s ease-out, box-shadow 0.3s ease-out;
        }
        .nav-link {
            position: relative;
            transition: color 0.3s ease;
        }
        .nav-link::after {
            content: '';
            position: absolute;
            width: 0;
            height: 2px;
            bottom: -4px;
            left: 50%;
            transform: translateX(-50%);
            background-color: #818cf8;
            transition: width 0.3s ease;
        }
        .nav-link:hover::after, .nav-link.active::after { width: 100%; }
        .glow-pill {
            background-color: rgba(129, 140, 248, 0.2);
            color: #c7d2fe;
            border: 1px solid rgba(129, 140, 248, 0.4);
        }
        /* Comet Cursor Styles */
        .cursor-dot, .cursor-outline {
            pointer-events: none;
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            border-radius: 50%;
            z-index: 9999;
            transition: transform 0.1s ease-out;
        }
        .cursor-dot { 
            width: 8px; 
            height: 8px; 
            background-color: #c7d2fe; 
        }
        .cursor-outline { 
            width: 40px; 
            height: 40px; 
            border: 2px solid #a5b4fc; 
            background-color: rgba(129, 140, 248, 0.1); 
        }
        .spark { 
            position: fixed; 
            border-radius: 50%; 
            pointer-events: none; 
            z-index: 9998; 
            opacity: 0; 
            animation: sparkle 0.5s forwards; 
            background-color: #c7d2fe;
        }
        @keyframes sparkle {
            0% { transform: scale(1); opacity: 1; }
            100% { transform: scale(0); opacity: 0; }
        }
        .chat-link { 
            color: #a5b4fc; 
            text-decoration: underline; 
        }
        .chat-link:hover { text-decoration: none; }
        .fade-in-section { opacity: 0; transform: translateY(20px); transition: opacity 0.6s ease-out, transform 0.6s ease-out; }
        .fade-in-section.is-visible { opacity: 1; transform: translateY(0); }
        .toggle-switch { width: 40px; height: 20px; background-color: #4b5563; border-radius: 9999px; position: relative; cursor: pointer; transition: background-color 0.2s; }
        .toggle-switch .toggle-knob { width: 16px; height: 16px; background-color: white; border-radius: 50%; position: absolute; top: 2px; left: 2px; transition: transform 0.2s; }
        #web-search-toggle:checked + .toggle-switch { background-color: #4f46e5; }
        #web-search-toggle:checked + .toggle-switch .toggle-knob { transform: translateX(20px); }
    </style>
</head>
<body class="bg-gray-900 text-gray-50">

    <div class="cursor-dot"></div>
    <div class="cursor-outline"></div>

    <nav class="fixed top-0 w-full bg-gray-900/70 backdrop-blur border-b border-indigo-600/20 shadow-lg z-50 text-gray-200">
        <div class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center py-4">
                <div class="text-2xl font-bold text-indigo-300">Santhiya Sasikumar</div>
                <div class="hidden md:flex items-center space-x-8">
                    <a href="#about" class="nav-link">About</a>
                    <a href="#experience" class="nav-link">Experience</a>
                    <a href="#projects" class="nav-link">Projects</a>
                    <a href="#skills" class="nav-link">Skills</a>
                    <a href="#contact" class="nav-link">Contact</a>
                </div>
                <button id="mobile-menu-toggle" class="md:hidden">
                    <i class="fas fa-bars text-xl"></i>
                </button>
            </div>
            <div id="mobile-menu" class="md:hidden hidden pb-4">
                <div class="flex flex-col space-y-2">
                    <a href="#about" class="nav-link py-2">About</a>
                    <a href="#experience" class="nav-link py-2">Experience</a>
                    <a href="#projects" class="nav-link py-2">Projects</a>
                    <a href="#skills" class="nav-link py-2">Skills</a>
                    <a href="#contact" class="nav-link py-2">Contact</a>
                </div>
            </div>
        </div>
    </nav>

    <section id="about" class="pt-32 pb-16 relative overflow-hidden">
        <canvas id="starfield" class="absolute top-0 left-0 w-full h-full z-[-1]"></canvas>
        <div class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="grid md:grid-cols-2 gap-12 items-center">
                <div>
                    <h1 class="text-5xl font-bold mb-6 text-indigo-200">Santhiya Sasikumar</h1>
                    <h2 id="subtitle" class="text-2xl text-indigo-300 mb-6 min-h-[2.25rem]"></h2>
                    <p class="text-lg text-indigo-200 mb-8 leading-relaxed">
                        Computer Science Engineering student with strong programming and problem-solving skills. Proficient in Java and C, with a passion for innovation and technology-driven solutions. Seeking an internship to apply theoretical knowledge.
                    </p>
                    <div class="flex flex-wrap gap-4">
                        <a href="#contact" class="bg-yellow-500 text-white px-6 py-3 rounded-lg hover:bg-yellow-600 transition-colors">
                            <i class="fas fa-envelope mr-2"></i>Get In Touch
                        </a>
                        <a href="#projects" class="border-2 border-indigo-300 text-indigo-200 px-6 py-3 rounded-lg hover:bg-indigo-300 hover:text-gray-900 transition-colors">
                            <i class="fas fa-code mr-2"></i>View Projects
                        </a>
                    </div>
                </div>
                <div class="text-center">
                    <div class="w-64 h-64 mx-auto rounded-full flex items-center justify-center space-card interactive-card">
                        <i class="fas fa-user-graduate text-8xl text-indigo-200"></i>
                    </div>
                </div>
            </div>
        </div>
    </section>
    
    <section id="experience" class="py-16 fade-in-section"><div class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8"><h2 class="text-4xl font-bold text-center mb-12 text-indigo-200">Internship Experience</h2><div class="space-y-8"><div class="space-card interactive-card p-6 rounded-lg"><div class="flex flex-col md:flex-row md:justify-between md:items-start mb-4"><div><h3 class="text-xl font-semibold text-indigo-200">Java Development Intern</h3><p class="text-indigo-300 font-medium">OctaNet Solutions</p></div><span class="text-indigo-300 text-sm mt-2 md:mt-0">Jan 2025 - Feb 2025</span></div><p class="text-indigo-100 leading-relaxed mb-4">Developed Java applications and REST APIs using Spring Boot with MySQL. Gained experience with Git and Agile methodologies.</p><div class="flex flex-wrap gap-2"><span class="glow-pill px-3 py-1 rounded-full text-sm">Java</span><span class="glow-pill px-3 py-1 rounded-full text-sm">Spring Boot</span><span class="glow-pill px-3 py-1 rounded-full text-sm">MySQL</span><span class="glow-pill px-3 py-1 rounded-full text-sm">Git</span></div></div><div class="space-card interactive-card p-6 rounded-lg"><div class="flex flex-col md:flex-row md:justify-between md:items-start mb-4"><div><h3 class="text-xl font-semibold text-indigo-200">IoT Intern</h3><p class="text-indigo-300 font-medium">Enthu Technology Solutions</p></div><span class="text-indigo-300 text-sm mt-2 md:mt-0">Dec 2024 - Jan 2025</span></div><p class="text-indigo-100 leading-relaxed mb-4">Built practical IoT solutions like Smart Irrigation and Air Quality Monitoring systems. Gained hands-on experience with microcontrollers, sensors, and automation.</p><div class="flex flex-wrap gap-2"><span class="glow-pill px-3 py-1 rounded-full text-sm">IoT</span><span class="glow-pill px-3 py-1 rounded-full text-sm">Microcontrollers</span><span class="glow-pill px-3 py-1 rounded-full text-sm">Sensors</span></div></div></div></div></section>
    <section id="projects" class="py-16 fade-in-section"><div class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8"><h2 class="text-4xl font-bold text-center mb-12 text-indigo-200">Featured Projects</h2><div class="grid md:grid-cols-2 gap-8"><div class="project-item space-card interactive-card p-6 rounded-lg"><h3 class="text-xl font-semibold text-indigo-200 mb-2">IoT-Based Agriculture Monitoring System</h3><p class="text-indigo-100 text-sm">Built a smart system using an ESP32 microcontroller to monitor soil moisture, temperature, and humidity. It features automated irrigation based on sensor data and provides real-time monitoring via the cloud.</p></div><div class="project-item space-card interactive-card p-6 rounded-lg"><h3 class="text-xl font-semibold text-indigo-200 mb-2">Autonomous Line Follower Robot</h3><p class="text-indigo-100 text-sm">Developed a robot that uses IR sensors and motor drivers to track a path. Implemented a PID-based control algorithm for smooth and accurate navigation.</p></div><div class="project-item space-card interactive-card p-6 rounded-lg"><h3 class="text-xl font-semibold text-indigo-200 mb-2">Weapon Detection Model</h3><p class="text-indigo-100 text-sm">Developed a real-time weapon detection system using deep learning (YOLOv8/Computer Vision) to identify firearms and sharp objects from surveillance feeds, enhancing security and threat response.</p></div></div></div></section>
    <section id="skills" class="py-16 fade-in-section"><div class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8"><h2 class="text-4xl font-bold text-center mb-12 text-indigo-200">Technical Skills</h2><div class="grid sm:grid-cols-2 md:grid-cols-4 gap-8"><div class="text-center space-card p-6 rounded-lg"><h3 class="text-xl font-semibold mb-4 text-indigo-200">Languages</h3><div class="flex flex-wrap justify-center gap-2"><span class="glow-pill p-2 rounded">C</span> <span class="glow-pill p-2 rounded">Java</span> <span class="glow-pill p-2 rounded">Python</span> <span class="glow-pill p-2 rounded">JavaScript</span></div></div><div class="text-center space-card p-6 rounded-lg"><h3 class="text-xl font-semibold mb-4 text-indigo-200">Frontend</h3><div class="flex flex-wrap justify-center gap-2"><span class="glow-pill p-2 rounded">HTML</span> <span class="glow-pill p-2 rounded">CSS</span></div></div><div class="text-center space-card p-6 rounded-lg"><h3 class="text-xl font-semibold mb-4 text-indigo-200">Database</h3><div class="flex flex-wrap justify-center gap-2"><span class="glow-pill p-2 rounded">MySQL</span></div></div><div class="text-center space-card p-6 rounded-lg"><h3 class="text-xl font-semibold mb-4 text-indigo-200">Platforms</h3><div class="flex flex-wrap justify-center gap-2"><span class="glow-pill p-2 rounded">AWS</span> <span class="glow-pill p-2 rounded">Cloud</span> <span class="glow-pill p-2 rounded">IoT</span> <span class="glow-pill p-2 rounded">Git</span> <span class="glow-pill p-2 rounded">GitHub</span> <span class="glow-pill p-2 rounded">Docker</span></div></div></div></div></section>
    <section id="certifications" class="py-16 fade-in-section"><div class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8"><h2 class="text-4xl font-bold text-center mb-12 text-indigo-200">Certifications</h2><div class="grid md:grid-cols-3 gap-8 text-center"><div class="space-card p-6 rounded-lg"><p class="font-semibold text-indigo-300">Introduction to Web Development, Introduction to Java</p><p class="text-sm text-indigo-400">Coursera</p></div><div class="space-card p-6 rounded-lg"><p class="font-semibold text-indigo-300">Prompt Design in Vertex AI, Develop GenAI Apps with Gemini and Streamlit</p><p class="text-sm text-indigo-400">Google Cloud</p></div><div class="space-card p-6 rounded-lg"><p class="font-semibold text-indigo-300">CCNA Introduction to Networks</p><p class="text-sm text-indigo-400">Cisco</p></div></div></div></section>
    <section id="contact" class="py-16 fade-in-section"><div class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 text-center"><h2 class="text-4xl font-bold mb-6 text-indigo-200">Get In Touch</h2><p class="text-lg text-indigo-200 mb-8 max-w-2xl mx-auto">I'm always open to discussing new opportunities and creative ideas. Feel free to reach out!</p><div class="flex justify-center items-center flex-wrap gap-8 text-indigo-200"><a href="mailto:santhiyasasikumar0205@gmail.com" class="hover:text-indigo-400"><i class="fas fa-envelope mr-2"></i> santhiyasasikumar0205@gmail.com</a><a href="https://linkedin.com/in/Santhiya-Sasikumar" target="_blank" class="hover:text-indigo-400"><i class="fab fa-linkedin mr-2"></i> LinkedIn</a><a href="https://www.hackerrank.com/profile/santhiyasasikum1" target="_blank" class="hover:text-indigo-400"><i class="fab fa-hackerrank mr-2"></i> HackerRank</a><a href="https://leetcode.com/u/santhiyasasikumar/" target="_blank" class="hover:text-indigo-400"><i class="fas fa-code mr-2"></i> LeetCode</a></div></div></section>
    
    <div class="fixed bottom-5 right-5 z-50">
        <div id="chatbot-panel" class="hidden w-80 h-[28rem] bg-gray-800/80 backdrop-blur-md rounded-lg shadow-2xl flex flex-col mb-4">
            <div class="p-3 border-b border-indigo-700/30 text-indigo-200 flex items-center justify-between">
                <span class="font-semibold"><i class="fas fa-robot mr-2"></i>AI Assistant</span>
                <button id="close-chat-btn" class="text-indigo-300 hover:text-indigo-100"><i class="fas fa-times"></i></button>
            </div>
            <div id="chat-messages" class="flex-1 p-3 space-y-4 overflow-y-auto"></div>
            <div class="p-3 border-t border-indigo-700/30">
                <div class="flex items-center gap-2 mb-2">
                     <label for="web-search-toggle" class="flex items-center cursor-pointer">
                        <input type="checkbox" id="web-search-toggle" class="hidden">
                        <span class="toggle-switch"><span class="toggle-knob"></span></span>
                        <span class="ml-2 text-xs text-gray-400">Web Search</span>
                    </label>
                </div>
                <div class="flex gap-2">
                    <input id="chat-input" type="text" class="flex-1 px-3 py-2 rounded-lg bg-gray-900 text-indigo-100 border border-indigo-700/30 focus:outline-none focus:ring-2 focus:ring-indigo-500" placeholder="Ask a question..." />
                    <button id="chat-send-btn" class="bg-indigo-600 text-white px-4 py-2 rounded-lg hover:bg-indigo-500 transition-colors"><i class="fas fa-paper-plane"></i></button>
                </div>
            </div>
        </div>
        <button id="chatbot-toggle" class="bg-indigo-600 text-white px-5 py-4 rounded-full flex items-center justify-center shadow-lg hover:bg-indigo-500 transition-colors gap-3">
            <i class="fas fa-rocket text-xl"></i>
            <span class="font-semibold text-lg">Know About Me</span>
        </button>
    </div>

    <footer class="bg-gray-900/50 py-6">
        <div class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 text-center text-gray-400">
            <p>&copy; 2024 Santhiya Sasikumar. All rights reserved.</p>
        </div>
    </footer>

    <script>
    document.addEventListener('DOMContentLoaded', function() {
        
        const knowledgeBase = [
            // ... (knowledge base remains the same)
        ];
        let chatHistory = [];
        // ... (retrieveContext function remains the same)

        const chatMessages = document.getElementById('chat-messages');
        const chatInput = document.getElementById('chat-input');
        const chatSendBtn = document.getElementById('chat-send-btn');
        
        function addMessageToChat(message, sender, sources = []) {
            const messageWrapper = document.createElement('div');
            messageWrapper.className = `w-full flex ${sender === 'user' ? 'justify-end' : 'justify-start'}`;
            const messageContent = document.createElement('div');
            messageContent.className = `p-3 rounded-lg max-w-xs ${sender === 'user' ? 'bg-indigo-500 text-white' : 'bg-gray-700 text-gray-200 shadow-md'}`;
            const textElement = document.createElement('div');
            messageContent.appendChild(textElement);
            if (sources.length > 0) {
                const sourcesContainer = document.createElement('div');
                sourcesContainer.className = 'mt-2 pt-2 border-t border-gray-600';
                const sourcesTitle = document.createElement('h4');
                sourcesTitle.className = 'text-xs font-bold mb-1 text-gray-400';
                sourcesTitle.textContent = 'Sources:';
                sourcesContainer.appendChild(sourcesTitle);
                const sourcesList = document.createElement('ul');
                sourcesList.className = 'text-xs space-y-1';
                sources.forEach(source => {
                    const listItem = document.createElement('li');
                    const link = document.createElement('a');
                    link.href = source.uri;
                    link.textContent = source.title;
                    link.target = '_blank';
                    link.className = 'chat-link truncate';
                    listItem.appendChild(link);
                    sourcesList.appendChild(listItem);
                });
                sourcesContainer.appendChild(sourcesList);
                messageContent.appendChild(sourcesContainer);
            }
            messageWrapper.appendChild(messageContent);
            chatMessages.appendChild(messageWrapper);
            chatMessages.scrollTop = chatMessages.scrollHeight;
            if (sender === 'ai') {
                let i = 0;
                const speed = 20;
                function typeWriter() {
                    if (i < message.length) {
                        textElement.innerHTML = message.substring(0, i + 1).replace(/\n/g, '<br>');
                        i++;
                        setTimeout(typeWriter, speed);
                    }
                }
                typeWriter();
            } else {
                 textElement.innerHTML = message.replace(/\n/g, '<br>');
            }
            return messageContent;
        }

        async function callApi(apiKey, useWebSearch) {
             const payload = { contents: chatHistory };
            if (useWebSearch) {
                payload.tools = [{ "google_search": {} }];
            }
            
            try {
                const response = await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=${apiKey}`, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(payload)
                });
                if (!response.ok) { console.error("API Error:", response.status, await response.text()); return null; }
                const result = await response.json();
                if (!result.candidates || result.candidates.length === 0) {
                    if (result.promptFeedback && result.promptFeedback.blockReason) { return { text: `My response was blocked for safety reasons: ${result.promptFeedback.blockReason}` }; }
                    return { text: "I'm sorry, I received an empty response." };
                }
                const candidate = result.candidates[0];
                const text = candidate.content.parts[0].text;
                let sources = [];
                if (candidate.groundingMetadata && candidate.groundingMetadata.groundingAttributions) {
                    sources = candidate.groundingMetadata.groundingAttributions.map(attr => ({
                        uri: attr.web.uri,
                        title: attr.web.title
                    })).filter(s => s.uri && s.title);
                }
                return { text, sources };
            } catch (error) { console.error("Fetch Error:", error); return null; }
        }

        async function handleSendMessage() {
            const question = chatInput.value.trim();
            if (!question) return;
            addMessageToChat(question, 'user');
            chatInput.value = '';
            
            const apiKey = "AIzaSyAC6wP-hKaYsEl1pZ-KTgd_xmick-knGek";
            if (!apiKey || apiKey === "PASTE_YOUR_API_KEY_HERE") {
                addMessageToChat("AI is not configured. The developer needs to add a valid API key.", 'ai');
                return; 
            }
            
            const useWebSearch = document.getElementById('web-search-toggle').checked;
            let finalPrompt = question;
            const context = retrieveContext(question);

            if (context && !useWebSearch) {
                finalPrompt = `Based ONLY on the following data, answer the user's question. Data: ${context}. User's question: ${question}`;
            }

            chatHistory.push({ role: 'user', parts: [{ text: finalPrompt }] });

            const aiResponse = await callApi(apiKey, useWebSearch);
            
            if (aiResponse && aiResponse.text) {
                addMessageToChat(aiResponse.text, 'ai', aiResponse.sources);
                chatHistory.push({ role: 'model', parts: [{ text: aiResponse.text }] });
            } else {
                addMessageToChat("Sorry, I couldn't get a response. Please check the API key and console for errors.", 'ai');
            }
        }

        const chatPanel = document.getElementById('chatbot-panel');
        const chatToggle = document.getElementById('chatbot-toggle');
        const closeChatBtn = document.getElementById('close-chat-btn');
        if (chatToggle) chatToggle.addEventListener('click', () => chatPanel.classList.toggle('hidden'));
        if (closeChatBtn) closeChatBtn.addEventListener('click', () => chatPanel.classList.add('hidden'));
        if (chatSendBtn) chatSendBtn.addEventListener('click', handleSendMessage);
        if (chatInput) chatInput.addEventListener('keypress', (e) => { if (e.key === 'Enter') handleSendMessage(); });

        const mobileMenuToggle = document.getElementById('mobile-menu-toggle');
        const mobileMenu = document.getElementById('mobile-menu');
        if (mobileMenuToggle && mobileMenu) { mobileMenuToggle.addEventListener('click', () => { mobileMenu.classList.toggle('hidden'); }); }
        
        const cursorDot = document.querySelector('.cursor-dot');
        const cursorOutline = document.querySelector('.cursor-outline');
        if (cursorDot && cursorOutline) { window.addEventListener('mousemove', function(e) { const posX = e.clientX; const posY = e.clientY; cursorDot.style.left = `${posX}px`; cursorDot.style.top = `${posY}px`; cursorOutline.animate({ left: `${posX}px`, top: `${posY}px` }, { duration: 500, fill: "forwards" }); const sparkle = document.createElement('div'); sparkle.className = 'spark'; sparkle.style.left = `${posX}px`; sparkle.style.top = `${posY}px`; sparkle.style.width = `${Math.random() * 4 + 2}px`; sparkle.style.height = sparkle.style.width; document.body.appendChild(sparkle); setTimeout(() => { sparkle.remove(); }, 500); }); }

        const interactiveCards = document.querySelectorAll('.interactive-card');
        interactiveCards.forEach(card => { card.addEventListener('mousemove', (e) => { const rect = card.getBoundingClientRect(); const x = e.clientX - rect.left; const y = e.clientY - rect.top; const rotateX = (y - (rect.height / 2)) / 10; const rotateY = ((rect.width / 2) - x) / 10; card.style.transform = `perspective(1000px) rotateX(${rotateX}deg) rotateY(${rotateY}deg) scale3d(1.05, 1.05, 1.05)`; card.style.boxShadow = `0px 10px 30px rgba(0, 0, 0, 0.3)`; }); card.addEventListener('mouseleave', () => { card.style.transform = 'perspective(1000px) rotateX(0) rotateY(0) scale3d(1, 1, 1)'; card.style.boxShadow = 'none'; }); });

        const sections = document.querySelectorAll('.fade-in-section');
        const observer = new IntersectionObserver((entries) => { entries.forEach(entry => { if (entry.isIntersecting) { entry.target.classList.add('is-visible'); } }); }, { threshold: 0.1 });
        sections.forEach(section => { observer.observe(section); });
        
        const subtitleElement = document.getElementById('subtitle');
        if (subtitleElement) { const subtitleText = "Computer Science Engineering Student"; let i = 0; function typeWriter() { if (i < subtitleText.length) { subtitleElement.innerHTML += subtitleText.charAt(i); i++; setTimeout(typeWriter, 100); } } setTimeout(typeWriter, 500); }

        const starfieldCanvas = document.getElementById('starfield');
        if (starfieldCanvas) { 
            const ctx = starfieldCanvas.getContext('2d'); 
            let stars = [], comets = []; 
            let mouseX = window.innerWidth / 2, mouseY = window.innerHeight / 2; 
            
            function resizeCanvas() { 
                starfieldCanvas.width = window.innerWidth; 
                starfieldCanvas.height = starfieldCanvas.parentElement.offsetHeight > window.innerHeight ? starfieldCanvas.parentElement.offsetHeight : window.innerHeight; 
                stars = []; 
                for (let i = 0; i < 200; i++) { 
                    stars.push({ 
                        x: Math.random() * starfieldCanvas.width, 
                        y: Math.random() * starfieldCanvas.height, 
                        radius: Math.random() * 1.5 + 0.5, 
                        vx: (Math.random() - 0.5) * 0.2, // Slowed down velocity
                        vy: (Math.random() - 0.5) * 0.2, // Slowed down velocity
                        ox: Math.random() * starfieldCanvas.width, 
                        oy: Math.random() * starfieldCanvas.height 
                    }); 
                } 
            } 
            
            function updateStars() {
                stars.forEach(star => {
                    star.x += star.vx;
                    star.y += star.vy;

                    if (star.x < 0 || star.x > starfieldCanvas.width) star.vx = -star.vx;
                    if (star.y < 0 || star.y > starfieldCanvas.height) star.vy = -star.vy;
                });
            }

            function draw() { 
                ctx.clearRect(0, 0, starfieldCanvas.width, starfieldCanvas.height); 
                stars.forEach(star => { 
                    let parallaxX = (mouseX - window.innerWidth / 2) / 20;
                    let parallaxY = (mouseY - window.innerHeight / 2) / 20;

                    ctx.beginPath(); 
                    ctx.arc(star.x - parallaxX, star.y - parallaxY, star.radius, 0, Math.PI * 2); 
                    ctx.fillStyle = "rgba(255, 255, 255, 0.8)"; 
                    ctx.fill(); 
                }); 
                comets.forEach((comet, index) => { 
                    comet.x += comet.vx; 
                    comet.y += comet.vy; 
                    comet.life--; 
                    if (comet.life <= 0) { comets.splice(index, 1); } 
                    ctx.beginPath(); 
                    ctx.arc(comet.x, comet.y, comet.radius, 0, Math.PI * 2); 
                    ctx.fillStyle = `rgba(255, 255, 255, ${comet.life / 100})`; 
                    ctx.fill(); 
                }); 
                if(Math.random() < 0.015) { 
                    comets.push({ 
                        x: Math.random() * starfieldCanvas.width, 
                        y: 0, 
                        vx: Math.random() * 4 - 2, 
                        vy: Math.random() * 4 + 2, 
                        radius: Math.random() * 2 + 1, 
                        life: 100 + Math.random() * 100 
                    }); 
                } 
            } 
            
            function animate() { 
                updateStars(); // Restore the star movement
                draw(); 
                requestAnimationFrame(animate); 
            } 
            
            resizeCanvas(); 
            window.addEventListener('resize', resizeCanvas); 
            window.addEventListener('mousemove', e => { mouseX = e.clientX; mouseY = e.clientY; }); 
            animate(); 
        }
    });
    </script>
</body>
</html>

